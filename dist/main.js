(()=>{const t=document.querySelectorAll(".category-buttons button"),e=document.getElementById("results"),n=document.getElementById("loadMoreButton");let a="",o=0;function i(t,a){const o=`https://www.googleapis.com/books/v1/volumes?q=subject:${encodeURIComponent(t)}&maxResults=6&startIndex=${a}&key=AIzaSyCiCCkF8kjfeoK0l8F1MHbXlCS6fkniCdc`;fetch(o).then((t=>t.json())).then((t=>{var a;(a=t.items)?a.forEach((t=>{const n=document.createElement("div");n.classList.add("book");const a=t.volumeInfo.title||"No title",o=t.volumeInfo.authors?t.volumeInfo.authors.join(", "):"Unknown author",i=t.volumeInfo.price?t.volumeInfo.authors.join(", "):"No Price",s=t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:"https://via.placeholder.com/128x192.png?text=No+Image",l=t.saleInfo.buyLink||"#";n.innerHTML=`\n                    <img src="${s}" alt="${a}">\n                    <div class="book_info" id="cart-items">\n                    <p><strong></strong> ${o}</p>\n                    <h3>${a}</h3>\n                    \n                    \n                    <div class="rating">\n                        <input type="radio" class="star" id="star5-${t.id}" name="rating-${t.id}" value="5" />\n                        <label for="star5-${t.id}" title="5 stars"></label>\n                        <input type="radio" class="star" id="star4-${t.id}" name="rating-${t.id}" value="4" />\n                        <label for="star4-${t.id}" title="4 stars"></label>\n                        <input type="radio" class="star" id="star3-${t.id}" name="rating-${t.id}" value="3" />\n                        <label for="star3-${t.id}" title="3 stars"></label>\n                        <input type="radio" class="star" id="star2-${t.id}" name="rating-${t.id}" value="2" />\n                        <label for="star2-${t.id}" title="2 stars"></label>\n                        <input type="radio" class="star" id="star1-${t.id}" name="rating-${t.id}" value="1" />\n                        <label for="star1-${t.id}" title="1 star"></label>\n                        <p><strong>Description:</strong> ${t.description}</p>\n                        <h3 id="total-price">${i}</h3>\n                        \n                        </div>\n                        <a href="${l}" target="_blank">BUY NOW</a>\n                    </div>\n                   \n                `,e.appendChild(n)})):e.innerHTML="<p>No books found.</p>",(!t.items||t.items.length<6)&&(n.style.display="none")})).catch((t=>{console.error("Ошибка при выполнении запроса:",t)}))}window.onload=()=>{const t=document.querySelector(".category-buttons button");t&&(a=t.getAttribute("data-category"),i(a,o),n.style.display="block")},t.forEach((t=>{t.addEventListener("click",(()=>{a=t.getAttribute("data-category"),o=0,e.innerHTML="",i(a,o),n.style.display="block"}))})),n.addEventListener("click",(()=>{o+=6,i(a,o)}))})();